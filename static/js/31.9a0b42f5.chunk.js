(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1406:function(e,t,n){"use strict";n.r(t);var a=n(430),r=n.n(a),c=n(431),o=n(441),i=n(107),l=n(0),s=n.n(l),u=n(39),d=n(1112),p=n(677),f=n(1412),m=n(475),b=n(1423),v=n(445),y=n(1399),h=n(562),E=n(1395),g=n(1414),O=n(1419),k=n(529),x=n(567),j=n(71),_=n(70),w=n(427);function S(){var e=Object(i.a)(["\n  margin: 5px;\n"]);return S=function(){return e},e}var T=d.a.Option,C=p.a.TabPane,P=f.a.Item,N=Object(j.c)(m.a)(S()),I=f.a.create()(Object(_.c)(function(e){var t=e.form,n=e.history,a=e.form.getFieldDecorator,i=e.intl.messages,u=e.match.params,j=u.filter,_=u.id,S=Object(l.useState)(!1),I=Object(o.a)(S,2),A=I[0],V=I[1],F=Object(l.useState)("add"),U=Object(o.a)(F,2),z=U[0],R=U[1],D=Object(l.useState)(!0),B=Object(o.a)(D,2),q=B[0],G=B[1],J=Object(l.useState)([]),K=Object(o.a)(J,2),M=K[0],Y=K[1],H=Object(l.useState)([]),L=Object(o.a)(H,2),Q=L[0],W=L[1],X=Object(l.useState)([]),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1];Object(l.useEffect)(function(){ne()},[]);var te=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,c,o,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,G(!0),e.next=4,Object(w.N)();case 4:t=e.sent,a=t.data,c=a.eds,o=a.nodes,i=a.models,Y(c),ee(i),W(o),G(!1),n.push("/dashboard/eds"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),b.a.error(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(c.a)(r.a.mark(function e(){var t,n,a,c,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"node"!==j&&"model"!==j){e.next=7;break}return e.next=4,Object(w.N)({filter:j,id:_});case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,Object(w.N)();case 9:t=e.sent;case 10:n=t.data,a=n.eds,c=n.nodes,o=n.models,Y(a),ee(o),W(c),G(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),b.a.error(e.t0);case 20:case"end":return e.stop()}},e,null,[[0,17]])}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,G(!0),e.next=4,Object(w.r)({id:t.id});case 4:b.a.success(i.default.success),ne(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.a.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,G(!0),e.next=4,Object(w.B)({id:t.id});case 4:b.a.success(i.default.success),ne(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.a.error(e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,G(!0),e.next=4,Object(w.v)({id:t.id});case 4:b.a.success(i.default.success),ne(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.a.error(e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),oe=[{title:i.eds.node_id,dataIndex:"node_id",key:"node_id",render:function(e){var t=Q.filter(function(t){return t.id===e});return t.length?s.a.createElement("span",null,t[0].name):s.a.createElement("span",null,s.a.createElement("strong",null,s.a.createElement(v.a,{placement:"top",title:"The Node does not exist"},s.a.createElement(y.a,{status:"error",text:e}))))}},{title:i.eds.model_id,dataIndex:"model_id",key:"model_id",render:function(e){var t=$.filter(function(t){return t.id===e});return t.length?s.a.createElement("span",null,t[0].name):s.a.createElement("span",null,s.a.createElement("strong",null,s.a.createElement(v.a,{placement:"top",title:"The Model does not exist"},s.a.createElement(y.a,{status:"error",text:e}))))}},{title:i.eds.engine_id,dataIndex:"engine_id",key:"engine_id"},{title:i.eds.running_mode,dataIndex:"running_mode",key:"running_mode"},{title:i.eds.last_tu,dataIndex:"last_tu",key:"last_tu"},{title:i.eds.status,dataIndex:"status",key:"status",render:function(e,t){var n=["STATUS_READY","STATUS_RUNNING","STATUS_STARTING","STATUS_STOPPING","STATUS_BUSY","STATUS_OFF","STATUS_ERROR"];return-1===e?n[6]:n[e]}},{title:i.default.actions,key:"action",width:150,render:function(e,t){return s.a.createElement("span",null,5===t.status?s.a.createElement(v.a,{placement:"top",title:i.eds.enabled},s.a.createElement(N,{onClick:function(){re(t)},ghost:!0,size:"small",type:"danger",shape:"circle",icon:"stop"})):s.a.createElement(v.a,{placement:"top",title:i.eds.disabled},s.a.createElement(N,{onClick:function(){ce(t)},ghost:!0,size:"small",type:"primary",shape:"circle",icon:"check"})),s.a.createElement(h.a,{onConfirm:function(){ae(t)},title:i.eds.confirmDelete,okText:i.default.yes,cancelText:i.default.no},s.a.createElement(v.a,{placement:"top",title:i.eds.delete},s.a.createElement(N,{size:"small",type:"danger",shape:"circle",icon:"delete"}))))}}],ie=s.a.createElement(s.a.Fragment,null,j&&s.a.createElement(m.a,{loading:q,onClick:te,style:{marginRight:20},size:"small",type:"dashed",icon:"close"},"node"===j?"Node (".concat(_,")"):"Model (".concat(_,")")),s.a.createElement(m.a,{loading:q,onClick:function(){V(!0),R("add")},type:"primary",icon:"apartment"},i.eds.add));return s.a.createElement("div",null,s.a.createElement(E.a,{style:{margin:"16px 0"}},s.a.createElement(E.a.Item,null,i.menus.eds)),s.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},s.a.createElement(p.a,{defaultActiveKey:"all",tabBarExtraContent:ie},s.a.createElement(C,{tab:i.eds.all,key:"all"},s.a.createElement(g.a,{size:"small",loading:q,columns:oe,dataSource:M,rowKey:function(e){return e.id}}))),s.a.createElement(O.a,{centered:!0,width:600,title:i.eds.add,visible:A,onCancel:function(){V(!1)},footer:[s.a.createElement(m.a,{key:"back",onClick:function(){V(!1)}},i.default.cancel),s.a.createElement(m.a,{key:"submit",type:"primary",loading:q,onClick:function(e){e.preventDefault(),t.validateFields(function(){var e=Object(c.a)(r.a.mark(function e(n,a){var c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=20;break}if(c={nodeid:a.node_id,modelid:a.model_id},G(!0),"add"!==z){e.next=20;break}return e.prev=4,e.next=7,Object(w.c)(c);case 7:b.a.success(i.default.success),t.resetFields(),V(!1),ne(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),V(!0),G(!1),b.a.error(e.t0.message);case 18:e.next=20;break;case 20:case"end":return e.stop()}},e,null,[[4,13]])}));return function(t,n){return e.apply(this,arguments)}}())}},i.default.create)]},s.a.createElement(f.a,{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},s.a.createElement(k.a,{justify:"center",type:"flex"},s.a.createElement(x.a,{xs:24},s.a.createElement(P,{label:i.eds.node_id,hasFeedback:!0},a("node_id",{rules:[{required:!0,message:i.eds.rules.node_id.required}]})(s.a.createElement(d.a,null,Q.map(function(e){return s.a.createElement(T,{key:e.id,value:e.id},s.a.createElement("strong",null,"(",e.id,") "),e.name)})))),s.a.createElement(P,{label:i.eds.model_id,hasFeedback:!0},a("model_id",{rules:[{required:!0,message:i.eds.rules.model_id.required}]})(s.a.createElement(d.a,null,$.map(function(e){return s.a.createElement(T,{key:e.id,value:e.id},s.a.createElement("strong",null,"(",e.id,") "),e.name)}))))))))))}));t.default=Object(u.g)(I)},562:function(e,t,n){"use strict";var a=n(0),r=n(414),c=n(445),o=n(413),i=n(475),l=n(108),s=n(37),u=n(103);function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]])}return n},h=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=m(t).call(this,e),(n=!o||"object"!==d(o)&&"function"!==typeof o?b(r):o).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(b(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(b(n),e)},n.onVisibleChange=function(e){n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var r=n.props,c=r.okButtonProps,o=r.cancelButtonProps,l=r.title,s=r.cancelText,u=r.okText,d=r.okType,f=r.icon;return a.createElement("div",null,a.createElement("div",{className:"".concat(e,"-inner-content")},a.createElement("div",{className:"".concat(e,"-message")},f,a.createElement("div",{className:"".concat(e,"-message-title")},l)),a.createElement("div",{className:"".concat(e,"-buttons")},a.createElement(i.a,p({onClick:n.onCancel,size:"small"},o),s||t.cancelText),a.createElement(i.a,p({onClick:n.onConfirm,type:d,size:"small"},c),u||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,r=n.props,o=r.prefixCls,i=r.placement,u=y(r,["prefixCls","placement"]),d=t("popover",o),f=a.createElement(l.a,{componentName:"Popconfirm",defaultLocale:s.a.Popconfirm},function(e){return n.renderOverlay(d,e)});return a.createElement(c.a,p({},u,{prefixCls:d,placement:i,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:f,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,a["Component"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(r=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return a.createElement(u.a,null,this.renderConfirm)}}])&&f(n.prototype,r),o&&f(n,o),t}();h.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:a.createElement(o.a,{type:"exclamation-circle",theme:"filled"})},Object(r.polyfill)(h),t.a=h}}]);
//# sourceMappingURL=31.9a0b42f5.chunk.js.map